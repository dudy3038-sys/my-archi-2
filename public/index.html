<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>건축 법규 검토</title>
  <link rel="stylesheet" href="./style.css" />
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css">
</head>
<body>
  <main class="wrap">
    <header class="header">
      <h1>건축 법규 검토</h1>
      <p class="sub">토지 정보 기반 기본 규모(건폐율·용적률) 빠른 산정</p>
    </header>

    <section class="card">
      <h2>토지 정보 입력(수동)</h2>

      <div class="actions" style="gap:8px; justify-content:flex-start; margin-bottom:12px;">
        <input id="addr" type="text" placeholder="주소 입력 (예: 서울 강남구 테헤란로 152)" style="flex:1; min-width:240px;" />
        <button id="addrBtn" class="ghost" type="button">주소로 좌표 확인</button>
      </div>
      <div id="addrResult" class="result" aria-live="polite"></div>    
      <div id="map" style="height:280px; border-radius:14px; overflow:hidden; margin-top:10px;"></div>
  
<!-- ✅ 용도지역 선택 영역 추가 -->
<div class="actions" style="gap:8px; justify-content:flex-start; margin:12px 0;">
  <label style="flex:1; min-width:240px;">
    <span style="display:block; margin-bottom:6px;">용도지역(간이)</span>
    <select id="zoning" style="width:100%;">
      <option value="">선택하세요</option>
    </select>
  </label>

  <button id="applyRuleBtn" class="ghost" type="button">룰 적용</button>
</div>

<div id="ruleHint" class="result" aria-live="polite"></div>

<!-- ✅ 건축 용도 선택(간이) -->
<div class="actions" style="gap:8px; justify-content:flex-start; margin:12px 0;">
  <label style="flex:1; min-width:240px;">
    <span style="display:block; margin-bottom:6px;">건축 용도(간이)</span>
    <select id="useSelect" style="width:100%;">
      <option value="">선택하세요</option>
    </select>
  </label>

  <button id="checkUseBtn" class="ghost" type="button">용도 가능 여부</button>
</div>

<div id="useResult" class="result" aria-live="polite"></div>

<!-- ✅ 조건부 체크리스트 표시 영역 -->
<div id="checklistCard" class="result" style="display:none; margin-top:12px; border:1px dashed #444;">
  <div style="font-weight:700; margin-bottom:8px;">⚠️ 조건부 검토 체크리스트</div>
  <div id="checklistList"></div>
</div>

<!-- ✅ 요약 박스(자동 생성) -->
<div id="summaryBox" class="result" aria-live="polite"></div>

<div class="actions" style="gap:8px; justify-content:flex-start; margin-top:10px;">
  <button id="summaryBtn" class="ghost" type="button">요약 만들기</button>
  <button id="copySummaryBtn" class="ghost" type="button">요약 복사</button>
</div>


      <div class="grid">
        <label>
          <span>대지면적 (㎡)</span>
          <input id="landArea" type="number" min="0" step="0.01" placeholder="예: 200" />
        </label>

        <label>
          <span>건폐율 (%)</span>
          <input id="bcr" type="number" min="0" step="0.01" placeholder="예: 60" />
        </label>

        <label>
          <span>용적률 (%)</span>
          <input id="far" type="number" min="0" step="0.01" placeholder="예: 200" />
        </label>

        <label>
          <span>목표 층고 가정(선택, m)</span>
          <input id="floorHeight" type="number" min="2" step="0.01" placeholder="기본 3.3" />
        </label>
      </div>

      <div class="actions">
        <button id="calcBtn">검토 결과 보기</button>
        <button id="resetBtn" class="ghost">초기화</button>
      </div>

      <div id="result" class="result" aria-live="polite"></div>
    </section>

    <section class="card">
      <h2>상담 멘트(자동 생성)</h2>
      <p class="hint">결과를 기반으로, 건축주에게 바로 설명할 문장으로 정리됩니다.</p>
      <textarea id="talkTrack" rows="8" placeholder="검토 결과를 먼저 계산해 주세요."></textarea>
      <div class="actions">
        <button id="copyBtn" class="ghost">멘트 복사</button>
      </div>
    </section>

    <footer class="footer">
      <small>※ 본 도구는 1차 빠른 산정용입니다. 실제 인허가/심의 조건은 추가 검토가 필요합니다.</small>
    </footer>
  </main>

  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script src="./script.js"></script>
  
</body>
</html>
